(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(t,e,i){},147:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i.n(a),o=i(26),s=i.n(o),r=(i(91),i(5)),h=i(15),A=n.a.createContext({width:400,height:400}),c=A;function l(t){return n.a.createElement(A.Provider,{value:{width:400,height:400}},t.children)}function m(){this._buffer=null,this.cols=null,this.rows=null,this.cols_m1=null,this.rows_m1=null,this.width=null,this.height=null,this.nTotal=null,this.nTotalx2=null,this.outX=null,this.outY=null,this.fieldPosX=null,this.fieldPosY=null,this.mPos=null}function u(){this.flg=!1,this.angle=0,this.scale=0,this.int=0,this.velX=0,this.posX=0,this.velY=0,this.posY=0,this.life=0,this.damping=.1,this.r=0,this.g=0,this.b=0}f.prototype.changeColor=function(t){this.isEraser=!1,this.mActiveColor=t},f.prototype.changeWidth=function(t){return this.penWidth=t,this.penWidth},m.prototype.setupField=function(t,e,i,a){this.cols=t,this.rows=e,this.cols_m1=this.cols-1,this.rows_m1=this.rows-1,this.width=i,this.height=a,this.nTotal=this.cols*this.rows,this.nTotalx2=2*this.nTotal,this.dispose(),this._buffer=new Array;for(var n=0;n<this.nTotalx2;n++)this._buffer.push(0)},m.prototype.dispose=function(){this._buffer=null},m.prototype.clear=function(){for(var t=0;t<this.nTotalx2;t++)this._buffer[t]=0},m.prototype.getForceFromPos=function(t,e){t/=this.width,e/=this.height,t<0||t>1||e<0||e>1?(this.outX=0,this.outY=0):(this.fieldPosX=t*this.cols,this.fieldPosY=e*this.rows,this.mPos=2*Math.trunc(this.fieldPosY*this.cols+this.fieldPosX),this.outX=.1*this._buffer[this.mPos],this.outY=.1*this._buffer[this.mPos+1])},m.prototype.addVectorCircle=function(t,e,i,a,n,o){var s=a>>16&255,r=a>>8&255,h=a>>0&255,A=t.ctx;A.strokeStyle="rgba(".concat(s,", ").concat(r,", ").concat(h,", 1)"),A.lineCap="round",A.lineWidth=40,A.beginPath(),A.moveTo(e,i),A.lineTo(n,o),A.stroke()},m.prototype.fadeField=function(t){for(var e=0;e<this.nTotalx2;e++){var i=Math.trunc(e);this._buffer[i]*=t}},u.prototype.setInitialCondition=function(t,e,i,a,n){this.posX=t,this.posY=e,this.velX=i,this.velY=a,this.life=n},u.prototype.setVFupdate=function(t,e){this.velX=this.velX+(t-this.velX*this.damping),this.velY=this.velY+(e-this.velY*this.damping),this.posX=this.posX+this.velX,this.posY=this.posY+this.velY,this.life=this.life-1};function d(){}d.prototype.easeOutQuart=function(t,e,i,a){return-i*((t=t/a-1)*t*t*t-1)+e},d.prototype.easeInOutQuart=function(t,e,i,a){return(t/=a/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e};new d;function f(){this.penWidth=50}f.prototype.init=function(t,e,i){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=i,this.mParticles=[],this.mVF=new m,this.isEraser=!1,this.mVF.setupField(e/30,i/30,e,i),this.moveFlag=!1,this.isZoom=!1,this._toScale=0,this._frScale=null,this._ticktime=null,this._zoomTryed=!1,this._drawingEnabled=!0,this.currentScale=1.16,this.mColorRandRange=1,this.mActiveColor=13209,this._eraseMode=!1,this.mFudeSize=1.2,this.mUniformMatrix=new Array(4),this.mUniformColor=new Array(4),this.canvas.addEventListener("touchstart",this.startEvent.bind(this),!1),this.canvas.addEventListener("mousedown",this.startEvent.bind(this),!1),this.canvas.addEventListener("touchmove",this.moveEvent.bind(this),!1),this.canvas.addEventListener("mousemove",this.moveEvent.bind(this),!1),this.canvas.addEventListener("touchend",this.endEvent.bind(this),!1),this.canvas.addEventListener("mouseup",this.endEvent.bind(this),!1),this.textureParticle=[],this.animloop()},f.prototype.animloop=function(){window.requestAnimFrame(this.animloop.bind(this)),this.onEnterFrame()},f.prototype.getXY=function(t){var e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY;return{x:e-this.canvas.offsetLeft+(document.body.scrollLeft||document.documentElement.scrollLeft),y:i-this.canvas.offsetTop+(document.body.scrollTop||document.documentElement.scrollTop)}},f.prototype.startEvent=function(t){t.preventDefault(),t.stopPropagation();var e=this.getXY(t);this.mPrevMouseX=e.x,this.mPrevMouseY=e.y,this.mPrevDiffX=0,this.mPrevDiffY=0,this.moveFlag=!0};f.prototype.moveEvent=function(t){if(t.preventDefault(),t.stopPropagation(),this.moveFlag){var e=this.getXY(t),i=e.x,a=e.y;if(this.isEraser)this.resetEraser(i,a);else{for(var n=i-this.mPrevMouseX,o=a-this.mPrevMouseY,s=Math.max(Math.sqrt(n*n+o*o)/30,1),r=0;r<s;r++){var h=(r+1)/s,A=i-this.mPrevMouseX,c=a-this.mPrevMouseY;A*=h,c*=h,A=this.mPrevMouseX+A,c=this.mPrevMouseY+c;var l=n-this.mPrevDiffX,m=o-this.mPrevDiffY;l*=h,m*=h,l=this.mPrevDiffX+l,m=this.mPrevDiffY+m;var d=.2+Math.min(this.mFudeSize,Math.sqrt(l*l+m*m)/50);this.mVF.addVectorCircle(this,this.mPrevMouseX,this.mPrevMouseY,this.mActiveColor,A,c);for(var f=0;f<10;f++){var v=this._eraseMode?1e3:1e3*Math.random(),E=new u;E.angle=720*Math.random(),E.flg=!1;var p=void 0;if(Math.random()<.1){var g=255*(Math.random()*this.mColorRandRange-.5*this.mColorRandRange),B=(this.mActiveColor>>16&255)+g,Q=(this.mActiveColor>>8&255)+g,w=(this.mActiveColor>>0&255)+g;p=(B=B<0?0:B>255?255:B)<<16|(Q=Q<0?0:Q>255?255:Q)<<8|(w=w<0?0:w>255?255:w)}else p=this.mActiveColor;E.r=p>>16&255,E.g=p>>8&255,E.b=p>>0&255;var b=100*Math.random()-50,C=100*Math.random()-50,x=Math.sqrt(b*b+C*C);b/=x,C/=x;var y=50*Math.random()-25;if(b*=y,C*=y,v<10)Math.random()<.1?E.scale=6*Math.random():E.scale=3*Math.random(),E.setInitialCondition(A+100*Math.random()-50,c+100*Math.random()-50,0,0,0),E.texIndex=6*Math.random();else if(v<30){Math.random()<.1?(E.scale=4*Math.random(),E.texIndex=1):(E.scale=.5*Math.random()+1,E.texIndex=6*Math.random());var I=.7*Math.random()+.3;E.setInitialCondition(A+l*I*15,c+m*I*15,0,0,0)}else if(v<50){var M=.7*Math.random()+.3;E.scale=.5*Math.random()+1,E.setInitialCondition(A+b,c+C,l*M,m*M,30*Math.pow(d,.7)),E.texIndex=0,E.flg=!0}else E.setInitialCondition(A+b,c+C,.2*l,.2*m,30),E.texIndex=Math.random()<.2?1:0,E.scale=.3*Math.random()+1.2;if(E.scale*=1.2,E.scale*=50*d,this.mParticles.push(E),this.mParticles.length>500){var P=250*Math.random();this.mParticles.splice(P,1)}}}this.mPrevDiffX=n,this.mPrevDiffY=o,this.mPrevMouseX=i,this.mPrevMouseY=a}}},f.prototype.endEvent=function(t){t.preventDefault(),t.stopPropagation(),this.moveFlag=!1},f.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},f.prototype.onEnterFrame=function(){if(this._drawingEnabled&&this.draw(),this.isZoom?1!=this._toScale&&(this._toScale=1,this._frScale=this.currentScale,this._ticktime=(new Date).getTime()):0!=this._toScale&&(this._toScale=0,this._frScale=this.currentScale,this._ticktime=(new Date).getTime()),this.currentScale!=this._toScale&&this._drawingEnabled){var t=((new Date).getTime()-this.__ticktime)/1e3*.3;t>1&&(t=1,this.currentScale=this._toScale)}},f.prototype.getZoomRectMotion=function(){},f.prototype.draw=function(){var t=this.mParticles.length;if(t>0){this.__eraseMode;for(var e=0;e<t;){var i=this.mParticles[e];i.flg&&Math.random()>.5||(i.flg?(this.mUniformMatrix[0]=i.posX+(1*Math.random()-.5)*i.scale*.06,this.mUniformMatrix[1]=i.posY+(1*Math.random()-.5)*i.scale*.06,this.mUniformMatrix[3]=i.scale*(.4*Math.random()+.8),this.mUniformColor[3]=Math.random(),this.mUniformColor[0]=i.r*this.mUniformColor[3],this.mUniformColor[1]=i.g*this.mUniformColor[3],this.mUniformColor[2]=i.b*this.mUniformColor[3]):(this.mUniformMatrix[0]=i.posX,this.mUniformMatrix[1]=i.posY,this.mUniformMatrix[3]=i.scale,this.mUniformColor[0]=i.r,this.mUniformColor[1]=i.g,this.mUniformColor[2]=i.b,this.mUniformColor[3]=1),this.mUniformMatrix[2]=i.angle,this.drawTriangles(this.mUniformMatrix,this.mUniformColor)),i.life>0?(this.mVF.getForceFromPos(i.posX,i.posY),i.setVFupdate(this.mVF.outX,this.mVF.outY),e++):(this.mParticles.splice(e,1),--t)}this.mUniformColor[3]=1}this.mVF.fadeField(.96)},f.prototype.drawTriangles=function(t,e){this.ctx.fillStyle="rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"),this.ctx.beginPath(),this.ctx.arc(t[0],t[1],t[3]/40,0,2*Math.PI),this.ctx.fill()},f.prototype.resetEraser=function(t,e){this.ctx.globalCompositeOperation="source-over",this.ctx.beginPath(),this.ctx.arc(t,e,30,0,2*Math.PI),this.ctx.fillStyle="rgba(255,255,255,1)",this.ctx.fill(),this.ctx.globalCompositeOperation="source-over"},f.prototype.openEraser=function(){this.isEraser=!0},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var v=f;function E(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){var e=t.current,a=new v;e&&a.init(e,i,o)},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}function p(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){t.current},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}function g(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){t.current},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}i(92);var B=i(35),Q=i(71),w=i(72),b=i(83),C=i(73),x=i(84),y=(i(95),i(74)),I=i.n(y),M=i(50),P=i.n(M),X=i(75),j=i.n(X),D=function(t){function e(t){var i;return Object(Q.a)(this,e),(i=Object(b.a)(this,Object(C.a)(e).call(this,t))).saveRef=function(t){t&&(i.canvas=t,i.width=t.width,i.height=t.height)},i.onSetImage=function(t){i.setState({nowImage:t}),i.img.src=i.imageList[t],i.reset()},i.getRndInteger=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},i.getRndOne=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[Math.floor(Math.random()*e.length)]},i.reset=function(){i.animateIds&&(i.animateIds.forEach(function(t){return window.cancelAnimationFrame(t)}),i.animateIds=[]),i.concussionIds.length&&(i.concussionIds.forEach(function(t){return window.cancelAnimationFrame(t)}),i.concussionIds=[]),i.pausing=!1;var t=i.canvas.getContext("2d");t.restore(),t.clearRect(0,0,i.width,i.height),t.drawImage(i.img,0,0,i.width,i.height)},i.pause=function(){i.pausing=!i.pausing},i.random=function(){i.reset();for(var t=i.getRndInteger(1,4),e=i.getRndInteger(1,179),a=1;a<=t;a++){var n=i.getRndInteger(5,20),o=i.getRndInteger(50+200/t*(a-1),50+200/t*a),s=i.getRndOne(100,-100);console.log(s),i.start(e,n,s,o,a)}},i.animate=function(t,e,a,n,o,s,r){var h,A=Date.now(),c=A+30,l=n-a;!function n(m){if(!i.pausing){h=m?Date.now():A;var u=a+l*(h>c?30:h-A)/30;if(i.drawGlitch(t,e,u,o),h>c)return void r()}i.animateIds[s]=window.requestAnimFrame(n)}()},i.start=function(t,e,a,n,o){var s=a,r=0;!function a(){s>0?r=1-s:s<0&&(r=-1-s),i.animate(t,e,s,r,n,o,function(){i.concussionIds[o]=window.requestAnimFrame(a)}),0!==Number(r.toFixed(5))?s=r:i.reset()}()},i.drawGlitch=function(t,e,a,n){t<45?i.drawXGlitch(t,e,a,n):t<90?i.drawYGlitch(t,e,a,n):t<135?i.drawLargeYGlitch(t,e,a,n):i.drawLargeXGlitch(t,e,a,n)},i.state={nowImage:1},i.width=250,i.height=250,i.imageList=[I.a,P.a,j.a],i.concussionIds=[],i.animateIds=[],i}return Object(x.a)(e,t),Object(w.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.img=new Image,this.img.src=P.a,this.img.onload=function(){t.reset()}}},{key:"translateImage",value:function(t,e,i,a){t.save(),t.beginPath(),t.moveTo(a[0].x,a[0].y),t.lineTo(a[1].x,a[1].y),t.lineTo(a[2].x,a[2].y),t.lineTo(a[3].x,a[3].y),t.closePath(),t.clip(),t.clearRect(0,0,this.width,this.height),t.drawImage(this.img,e,i,this.width,this.height),t.restore()}},{key:"drawXGlitch",value:function(t,e,i,a){var n=this.canvas.getContext("2d"),o=Math.tan(Math.PI*t/180),s=o*this.width,r=[{x:0,y:a},{x:this.width,y:a-s},{x:this.width,y:a-s+e},{x:0,y:a+e}];this.translateImage(n,i,-o*i,r)}},{key:"drawYGlitch",value:function(t,e,i,a){var n=this.canvas.getContext("2d"),o=Math.tan(Math.PI*t/180),s=this.height/o,r=[{x:a,y:0},{x:a-s,y:this.height},{x:a-s+e,y:this.height},{x:a+e,y:0}];this.translateImage(n,-i/o,i,r)}},{key:"drawLargeYGlitch",value:function(t,e,i,a){var n=this.canvas.getContext("2d"),o=Math.tan(Math.PI*(180-t)/180),s=this.height/o,r=[{x:a,y:0},{x:a+s,y:this.height},{x:a+s+e,y:this.height},{x:a+e,y:0}];this.translateImage(n,i/o,i,r)}},{key:"drawLargeXGlitch",value:function(t,e,i,a){var n=this.canvas.getContext("2d"),o=Math.tan(Math.PI*(180-t)/180),s=o*this.width,r=[{x:0,y:a},{x:this.width,y:a+s},{x:this.width,y:a+s+e},{x:0,y:a+e}];this.translateImage(n,i,o*i,r)}},{key:"render",value:function(){var t=this,e=this.state.nowImage;return n.a.createElement("div",{className:"filter"},n.a.createElement("div",{className:"filter-t-shirt"},n.a.createElement("canvas",{width:this.width,height:this.height,className:"filter-canvas",ref:this.saveRef})),n.a.createElement("div",{className:"operation-area"},n.a.createElement(B.a,{onClick:this.random,type:"primary"},"\u968f\u673a\u5272\u88c2"),"\xa0\xa0",n.a.createElement(B.a,{onClick:this.pause,type:"primary"},"\u6682\u505c"),"\xa0\xa0",n.a.createElement(B.a,{onClick:this.reset},"\u91cd\u7f6e"),n.a.createElement("br",null),n.a.createElement("div",{className:"image-list"},n.a.createElement("div",{className:"image-list-label"},"\u9009\u62e9\u56fe\u7247\uff1a"),this.imageList.map(function(i,a){return n.a.createElement("img",{key:a,className:e===a?"selected":"",src:i,onClick:function(){return t.onSetImage(a)},alt:""})}))))}}]),e}(a.Component);function R(t,e,i,a,n,o){this.a=t,this.b=e,this.c=i,this.d=a,this.tx=n,this.ty=o}R.prototype.translate=function(t,e){this.tx=t,this.ty=e},R.prototype.concat=function(t){var e=this.a,i=this.c,a=this.tx;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d,this.tx=a*t.a+this.ty*t.c+t.tx,this.ty=a*t.b+this.ty*t.d+t.ty},R.prototype.scale=function(t,e){var i=new R(t,0,0,e,0,0);this.concat(i)},R.prototype.identity=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0};function W(t,e,i,a){this._rect=null,this.imageData=null,this.image=null,this.bitmapBytes=null,this.checkTable=null,this.isLoaded=!1,this.width=t,this.height=e,this.transparent=i,this.fillColor=a;var n=t*e;if(n>0){var o=document.createElement("canvas");o.width=t,o.height=e;var s=o.getContext("2d");this.imageData=s.createImageData(t,e),i&&0==a&&(n=0);for(var r=0;r<n;r++){var h=4*r;this.imageData.data[h+0]=a>>16&255,this.imageData.data[h+1]=a>>8&255,this.imageData.data[h+2]=a>>0&255,this.imageData.data[h+3]=i?a>>24&255:255}s.putImageData(this.imageData,0,0),this.image=o}}W.prototype.draw=function(t,e,i,a,n,o){var s=t;s&&this.image&&(s.image&&this.image.getContext("2d").drawImage(s.image,0,0,s.image.width*e.a,s.image.height*e.d))},W.prototype.lock=function(){},W.prototype.unlock=function(){},W.prototype.getPixel32=function(t,e){return this.bitmapBytes.position=4*(t+e*this.width),this.bitmapBytes.readUnsignedInt()};function Y(t,e){t(e)}function L(t){this.scale=1,this.position=0,this._mipmaps=[],this._LODLevel=[],this._martigX=null,this.mUniformColor=[],this.margin=7,this.InMargin=256/252,this._lodSum=0,this.maxCellLod=null,this._bUpdated=null,this._lod1Count=0,this.updatePointsX=[],this.updatePointsY=[],this.updatePointsLod=[],this._mosicRemderSize=47.8,this._martigX=0,this._martigY=0}L.prototype.init=function(t,e,i){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=i;var a=this,n=new Image;n.src="pic1.png",n.onload=function(){a.ctx.drawImage(n,10,10,380,390);var t=a.ctx.getImageData(0,0,400,400);a.generateMipmapWithBitmap(t,400,400)},this._LODLevel=new Array(16e4).fill(1),this.maxCellLod=16e4*(this._mipmaps.length-1-2),this.canvas.addEventListener("mousedown",this.startEvent.bind(this),!1)},L.prototype.generateMipmapWithBitmap=function(t,e,i){var a=this.ctx.getImageData(0,0,e,i),n=a.data,o=this.ctx.getImageData(0,0,e,i),s=o.data;console.log(o);for(var r=0;r<i;r+=4)for(var h=0;h<e;h+=4){for(var A=0,c=0,l=0,m=0;m<4;m++)for(var u=0;u<4;u++){A+=s[4*(d=(r+m)*e+(h+u))+0],c+=s[4*d+1],l+=s[4*d+2]}var d=r*e+h,f=A/16,v=c/16,E=l/16;for(m=0;m<4;m++)for(u=0;u<4;u++){n[4*(d=(r+m)*e+(h+u))+0]=f,n[4*d+1]=v,n[4*d+2]=E}}this.ctx.putImageData(a,0,0,0,0,e,i)},L.prototype.getXY=function(t){var e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY;return{x:e-this.canvas.offsetLeft+(document.body.scrollLeft||document.documentElement.scrollLeft),y:i-this.canvas.offsetTop+(document.body.scrollTop||document.documentElement.scrollTop)}},L.prototype.startEvent=function(t){t.preventDefault(),t.stopPropagation();var e=this.getXY(t);this.addedForce(e.x,e.y),this.draw()},L.prototype.draw=function(){var t=this,e=this.ctx.getImageData(0,0,400,400),i=e.data,a=this.ctx.getImageData(0,0,400,400),n=a.data;console.log(a);var o=4*this.scale,s=o*o;this.updatePointsX.forEach(function(e,a){var r=t.updatePointsX[a],h=t.updatePointsY[a];for(a=0;a<400;a+=1)for(var A=0;A<400;A+=1)if(a===r&&A===h){for(var c=0,l=0,m=0,u=0;u<o;u++)for(var d=0;d<o;d++){c+=n[4*(f=400*(r=a+u)+(h=A+d))+0],l+=n[4*f+1],m+=n[4*f+2]}var f=400*a+A,v=c/s,E=l/s,p=m/s;for(u=0;u<o;u++)for(d=0;d<o;d++){i[4*(f=400*(r=a+u)+(h=A+d))+0]=v,i[4*f+1]=E,i[4*f+2]=p}}}),this.ctx.putImageData(e,0,0,0,0,400,400)},L.prototype.addedForce=function(t,e){this.scale=this.scale+1,this._bUpdated=!0;var i,a,n,o,s,r,h,A,c,l,m,u,d=this._lodSum/this.maxCellLod,f=8*(1-d);if(!(f<5&&Math.random()>1*(f/5*.5+.05)))for(var v=0;v<1*f;v++){if(1==d)return;E(this)}function E(t){i=Math.floor(400*Math.random()),a=Math.floor(400*Math.random()),p(t)}function p(t){if(t.position=i+400*a,t.position<t._LODLevel.length){var e=t._LODLevel[t.position];t.position++}var v;v=e+1;var g=Math.pow(2,v-1);i=Math.floor(i/g)*g;for(var B=!0,Q=a=Math.floor(a/g)*g;Q<a+g;Q++){if(Q<400){t.position=i+400*Q;for(var w=i;w<i+g&&w<400;w++)if(t._LODLevel[t.position]!=e)return i=w,a=Q,void Y(p,t)}else B=!1;if(!B)break}if(B){if(e==t._mipmaps.length-3&&f<5){if(!(Math.random()<Math.pow(1-f/5,2)))return void Y(E,t);if(t._lod1Count<t.maxCellNum)return void(Math.random()<.6&&Y(E,t))}if(e!=t._mipmaps.length-2)if(2!=e){B=!1,g=Math.pow(2,v-1);for(var b=Math.pow(2,e-1),C=a;C<a+g&&C<400;C++)for(var x=i;x<i+g&&x<400;x++)x%b==0&&C%b==0&&(u=t.ctx.getImageData(x/b,C/b,1,1).data,c=u[0],l=u[1],m=u[2],B?(n>c&&(n=c),r<c&&(r=c),o>l&&(o=l),h<l&&(h=l),s>m&&(s=m),A<m&&(A=m)):(B=!0,n=r=c,o=h=l,s=A=m));c=r-n,l=h-o,m=A-s;var y=Math.sqrt(c*c+l*l+m*m)/(500*d);if(y>.92&&(y=.92),y=Math.pow(y,2),Math.random()<y)Y(E,t);else{for(var I=a;I<a+g&&I<400;I++){t.position=i+400*I;for(var M=i;M<i+g&&M<400;M++)t._LODLevel[t.position]=v,t._lodSum++,2==v&&t._lod1Count++}t.updatePointsX.push(i),t.updatePointsY.push(a),t.updatePointsLod.push(v)}}else Y(E,t);else Y(E,t)}else Y(E,t)}};var F=L;function U(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){var e=t.current,a=new F;e&&a.init(e,i,o)},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}function T(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){t.current},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}function Z(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){t.current},[t,i,o]),n.a.createElement("canvas",{ref:t,width:i,height:o})}var G=i(17);function O(){var t=Object(a.useRef)(),e=Object(a.useContext)(c),i=e.width,o=e.height;return Object(a.useEffect)(function(){var e=t.current;if(e){var a=new G.d(70,i/o,.01,10);a.position.z=1;var n=new G.e,s=new G.a(.2,.2,.2),r=new G.c,h=new G.b(s,r);n.add(h);var A=new G.f({antialias:!0});A.setSize(i,o),e.appendChild(A.domElement),function t(){requestAnimationFrame(t),h.rotation.x+=.01,h.rotation.y+=.02,A.render(n,a)}()}},[t,i,o]),n.a.createElement("div",{ref:t,style:{width:i,height:o}})}function V(){return n.a.createElement(l,null,n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/"},n.a.createElement("h1",null,"WebGL Demo")),n.a.createElement(h.a,{exact:!0,path:"/paint",component:E}),n.a.createElement(h.a,{exact:!0,path:"/moma01",component:p}),n.a.createElement(h.a,{exact:!0,path:"/moma02",component:g}),n.a.createElement(h.a,{exact:!0,path:"/mosaic",component:U}),n.a.createElement(h.a,{exact:!0,path:"/glich",component:D}),n.a.createElement(h.a,{exact:!0,path:"/splash",component:T}),n.a.createElement(h.a,{exact:!0,path:"/layout",component:Z}),n.a.createElement(h.a,{exact:!0,path:"/three",component:O})))}i(146);var q=function(){return n.a.createElement("div",{className:"container"},n.a.createElement(r.a,null,n.a.createElement("ul",{className:"navbar"},n.a.createElement("li",null,n.a.createElement(r.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/paint"},"Paint Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/moma01"},"Moma01 Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/moma02"},"Moma02 Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/glich"},"Glich Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/mosaic"},"Mosaic Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/splash"},"Splash Demo")),n.a.createElement("li",null,n.a.createElement("a",{target:"_blank",href:"http://dingtalksit.huilianyi.com/huilianyi/online/unique/canvas.html"},"Layout Demo")),n.a.createElement("li",null,n.a.createElement(r.b,{activeClassName:"active",to:"/three"},"Three-js Demo"))),n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"demo"},n.a.createElement(V,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},50:function(t,e,i){t.exports=i.p+"static/media/test1.335b4691.png"},74:function(t,e,i){t.exports=i.p+"static/media/test.77585d9f.png"},75:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAA6ppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0wNS0xMFQwOTowNToyNTwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjguMzwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpDb21wcmVzc2lvbj41PC90aWZmOkNvbXByZXNzaW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4yNTA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFj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"},86:function(t,e,i){t.exports=i(147)},91:function(t,e,i){},95:function(t,e,i){}},[[86,1,2]]]);
//# sourceMappingURL=main.894b1eef.chunk.js.map