{"version":3,"sources":["routes/glich/test.png","routes/glich/transparent.png","context/CanvasContext.js","v3d/V3D02_PaintImpl.js","routes/paint/index.js","routes/moma01/index.js","routes/moma02/index.js","routes/glich/index.js","v3d/Matrix.js","v3d/BitmapData.js","v3d/V3D13_MosaicImpl.js","routes/mosaic/index.js","routes/splash/index.js","routes/layout/index.js","routes/three/index.js","routes/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","CanvasContext","React","createContext","width","height","CanvasProvider","props","react_default","a","createElement","Provider","value","children","PVVectprField","this","_buffer","cols","rows","cols_m1","rows_m1","nTotal","nTotalx2","outX","outY","fieldPosX","fieldPosY","mPos","PVParticle","flg","angle","scale","int","velX","posX","velY","posY","life","damping","r","g","b","V3D02_PaintImpl","prototype","changeColor","color","isEraser","mActiveColor","changeWidth","penWidth","setupField","dispose","Array","i","push","clear","t","getForceFromPos","xpos","ypos","Math","trunc","addVectorCircle","that","x","y","d_x","d_y","colorR","colorG","colorB","ctx","strokeStyle","concat","lineCap","lineWidth","beginPath","moveTo","lineTo","stroke","fadeField","fadeAmount","e","setInitialCondition","px","py","vx","vy","lifeTimes","setVFupdate","Easing","easeOutQuart","s","easeInOutQuart","init","canvas","getContext","mParticles","mVF","moveFlag","isZoom","_toScale","_frScale","_ticktime","_zoomTryed","_drawingEnabled","currentScale","mColorRandRange","_eraseMode","mFudeSize","mUniformMatrix","mUniformColor","addEventListener","startEvent","bind","moveEvent","endEvent","textureParticle","animloop","window","requestAnimFrame","onEnterFrame","getXY","touches","clientX","clientY","offsetLeft","document","body","scrollLeft","documentElement","offsetTop","scrollTop","preventDefault","stopPropagation","mPrevMouseX","mPrevMouseY","mPrevDiffX","mPrevDiffY","curMousePostion","pos_x","pos_y","resetEraser","diff_x","diff_y","v","max","sqrt","f","p_x","p_y","strength","min","j","possibility","random","particle","coladd","pR_x","pR_y","c","texIndex","pw","pow","length","anyoneTop250","splice","clearCanvas","clearRect","draw","Date","getTime","__ticktime","getZoomRectMotion","num","__eraseMode","part","drawTriangles","fillStyle","arc","PI","fill","_x","_y","globalCompositeOperation","openEraser","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Paint","canvasRef","useRef","_useContext","useContext","useEffect","current","paint","ref","Moma01","Moma02","FormItem","es_form","Item","Filter","args","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","saveRef","getRndInteger","floor","reset","animateId","cancelAnimationFrame","concussionId","animateTimeoutId","clearTimeout","pausing","restore","drawImage","img","pause","form","setFieldsValue","getRandomObject","start","deg","size","offset","glitch","animate","startValue","endValue","done","time","now","finish","byValue","tick","ticktime","drawGlitch","values","getFieldsValue","Number","toFixed","drawXGlitch","drawYGlitch","drawLargeYGlitch","drawLargeXGlitch","state","intervals","_this2","Image","src","TestImg","transparentImg","TransparentImg","onload","targetX","targetY","offsetX","glitchY","tanDeg","tan","offsetHeight","save","closePath","clip","translateImage","offsetY","glitchX","offsetWidth","objectDestructuringEmpty","getFieldDecorator","className","es_button","onClick","type","label","initialValue","input_number","Component","WrappedFilter","create","Matrix","d","tx","ty","translate","dx","dy","m","aT","cT","txT","sx","sy","identity","BitmapData","transparent","fillColor","_rect","imageData","image","bitmapBytes","checkTable","isLoaded","len","createImageData","index","data","putImageData","source","matrix","colorTransform","blendMode","clipRect","smoothing","sourceBitmapData","lock","unlock","getPixel32","position","readUnsignedInt","goto","func","self","V3D13_MosaicImpl","_weakMode","_mipmaps","_LODLevel","_martigX","margin","InMargin","_lodSum","maxCellLod","_bUpdated","_lod1Count","updatePointsX","updatePointsY","updatePointsLod","_mosicRemderSize","_martigY","srcBmd","getImageData","generateMipmapWithBitmap","_org","pixelData","tmpImageData","tmpPixelData","console","log","totalr","totalg","totalb","resr","resg","resb","addedForce","totalnum","forEach","_miR","_miG","_miB","_maR","_maG","_maB","_r","_g","_b","va","cnv","LABEL_RESTART_RANDOM","LABEL_RESTART","lod","writeLod","lp","chk","ly","lx","maxCellNum","lpc","Mosaic","Splash","Layout","Glich","camera","THREE","z","scene","geometry","material","mesh","add","renderer","antialias","setSize","appendChild","domElement","rotation","render","style","Routes","react_router","exact","path","component","Three","App","react_router_dom","activeClassName","to","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d4e333b1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/test.77585d9f.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAA6ppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0wNS0wOFQxMTowNTo1MTwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjguMzwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpDb21wcmVzc2lvbj41PC90aWZmOkNvbXByZXNzaW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4yNTA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI1MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoPBI6OAAAEWUlEQVR4Ae3QgQAAAADDoPlTH+SFUGHAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMPA5MNG3AAFiQnZ2AAAAAElFTkSuQmCC\"","import React from 'react';\n\nconst CanvasContext = React.createContext({\n  width: 400,\n  height: 400,\n});\n\nexport default CanvasContext;\n\nexport function CanvasProvider(props) {\n  return (\n    <CanvasContext.Provider value={{\n      width: 400,\n      height: 400,\n    }}>\n      {props.children}\n    </CanvasContext.Provider>\n  );\n}","function PVVectprField() {\n  this._buffer = null;\n  this.cols = null;\n  this.rows = null;\n  this.cols_m1 = null;\n  this.rows_m1 = null;\n  this.width = null;\n  this.height = null;\n  this.nTotal = null;\n  this.nTotalx2 = null;\n  this.outX = null;\n  this.outY = null;\n  this.fieldPosX = null;\n  this.fieldPosY = null;\n  this.mPos = null;\n}\n\nfunction PVParticle() {\n  this.flg = false;// 原来为!1\n  this.angle = 0;\n  this.scale = 0;\n  this.int = 0;// texIndex\n  this.velX = 0;\n  this.posX = 0;\n  this.velY = 0;\n  this.posY = 0;\n  this.life = 0;\n  this.damping = 0.1;// public var damping:Number = 0.15;\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n}\n\n// 改变颜色\nV3D02_PaintImpl.prototype.changeColor = function (color) {\n  this.isEraser = false;// 关闭橡皮\n  this.mActiveColor = color;\n};\n\n// 改变宽度\nV3D02_PaintImpl.prototype.changeWidth = function (width) {\n  this.penWidth = width;\n  return this.penWidth;\n};\n\nPVVectprField.prototype.setupField = function (cols, rows, width, height) {\n  this.cols = cols;\n  this.rows = rows;\n  this.cols_m1 = this.cols - 1;\n  this.rows_m1 = this.rows - 1;\n  this.width = width;\n  this.height = height;\n  this.nTotal = this.cols * this.rows;\n  this.nTotalx2 = 2 * this.nTotal;\n  this.dispose();\n  // x、y坐标交替存储 喷溅偏移量\n  this._buffer = new Array();\n  for (let i = 0; i < this.nTotalx2; i++) {\n    this._buffer.push(0);\n  }\n};\n\nPVVectprField.prototype.dispose = function () {\n  this._buffer = null;\n};\n\nPVVectprField.prototype.clear = function () {\n  for (let t = 0; t < this.nTotalx2; t++) {\n    this._buffer[t] = 0;\n  }\n};\n\nPVVectprField.prototype.getForceFromPos = function (xpos, ypos) {\n  xpos /= this.width;\n  ypos /= this.height;\n  if (xpos < 0 || xpos > 1 || ypos < 0 || ypos > 1) {\n    this.outX = 0;\n    this.outY = 0;\n  } else {\n    this.fieldPosX = xpos * this.cols;\n    this.fieldPosY = ypos * this.rows;\n    this.mPos = 2 * Math.trunc(this.fieldPosY * this.cols + this.fieldPosX);\n    this.outX = 0.1 * this._buffer[this.mPos];\n    this.outY = 0.1 * this._buffer[this.mPos + 1];\n  }\n};\n\n// mVF.addVectorCircle(p_x , p_y, d_x*0.5, d_y*0.5, 80, 0.3);\nPVVectprField.prototype.addVectorCircle = function (that, x, y, color, d_x, d_y) {\n  let colorR = ((color >> 16) & 255);\n  let colorG = ((color >> 8) & 255);\n  let colorB = ((color >> 0) & 255);\n  // that.drawTriangles([x,y,0,500],[colorR,colorG,colorB,1])\n  let ctx = that.ctx;\n  // that.ctx.fillStyle = `rgba(${colorR}, ${colorG}, ${colorB}, 1)`;\n  // that.ctx.beginPath();\n  // that.ctx.arc(x, y,20, 0, 2*Math.PI);\n  // that.ctx.fill();\n\n  ctx.strokeStyle = `rgba(${colorR}, ${colorG}, ${colorB}, 1)`;\n  ctx.lineCap = 'round';\n  ctx.lineWidth = 40;\n  ctx.beginPath();\n  ctx.moveTo(x, y);\n  ctx.lineTo(d_x, d_y);\n  ctx.stroke();\n  // var distance, j, pos, i = 0;\n  // \t//是所传点横坐标的所占列数\n  // var\tfieldPosX = x / this.width * this.cols;\n  // var\tfieldPosY = y / this.height * this.rows;\n  // var\tfieldRadius = radius / this.width * this.cols;\n  // \t//所画圆的左上角\n  // var\tstartx = fieldPosX - fieldRadius;\n  // var\tstarty = fieldPosY - fieldRadius;\n  // \t//所画圆的右下角\n  // var\tendx = fieldPosX + fieldRadius;\n  // var\tendy = fieldPosY + fieldRadius;\n\n  // if(startx < 0){\n  // \tstartx = 0;\n  // }\n  // if(starty < 0){\n  // \tstarty = 0\n  // }\n  // if(endx > this.cols){\n  // \tendx = this.cols;\n  // }\n  // if(endy > this.rows){\n  // \tendy = this.rows;\n  // }\n\n  // for(i = startx; i < endx; i++) {\n  // \tfor(j = starty; j < endy; j++) {\n\n  // \t\tpos = 2 * (j * this.cols + i);\n  // \t\tdistance = Math.sqrt((fieldPosX - i) * (fieldPosX - i) + (fieldPosY - j) * (fieldPosY - j));\n\n  // \t\tif (distance < 0.0001)\n  // \t\t\tdistance = 0.0001;\n  // \t\tif(distance < fieldRadius) {\n  // \t\t\tdistance = 1 - (distance / fieldRadius);\n  // \t\t\tdistance *= strength;\n  // \t\t\tthis._buffer[Math.floor(pos)] += vx * distance;\n  // \t\t\tthis._buffer[Math.floor(pos+1)] += vy * distance;\n  // \t\t}\n  // \t}\n  // }\n};\n\nPVVectprField.prototype.fadeField = function (fadeAmount) {\n  for (let i = 0; i < this.nTotalx2; i++) {\n    let e = Math.trunc(i);\n    this._buffer[e] *= fadeAmount;\n  }\n};\n\nPVParticle.prototype.setInitialCondition = function (px, py, vx, vy, lifeTimes) {\n  this.posX = px;\n  this.posY = py;\n  this.velX = vx;\n  this.velY = vy;\n  this.life = lifeTimes;\n};\n\nPVParticle.prototype.setVFupdate = function (x, y) {\n  this.velX = this.velX + (x - this.velX * this.damping);\n  this.velY = this.velY + (y - this.velY * this.damping);\n  this.posX = this.posX + this.velX;\n  this.posY = this.posY + this.velY;\n  this.life = this.life - 1;\n};\n\nconst STAGE_GLOBAL_DRAWABLE_CENTERY = 0;\n\nconst ScaleMaxPaint = 1.16;\n\nconst ScaleMin = 0.6;\n\nconst IMAGE_WIDTH = 398;\n\nconst IMAGE_HEIGHT = 500;\n\nconst IMAGE_MARGIN_Y = 12;\n\nconst IMAGE_MARGIN_X = 25;\n\nconst PAINT_RADIUS = 2;\n\nfunction Easing() {\n}\n\nEasing.prototype.easeOutQuart = function (t, i, e, s) {\n  return -e * ((t = t / s - 1) * t * t * t - 1) + i;\n};\n\nEasing.prototype.easeInOutQuart = function (t, i, e, s) {\n  return (t /= s / 2) < 1 ? e / 2 * t * t * t * t + i : -e / 2 * ((t -= 2) * t * t * t - 2) + i;\n};\nconst colorCols = [\n  [13209, 15073299, 16773120, 0],\n  [16727423, 16752285, 16771491, 10013846, 4176047],\n  [15466892, 3342540],\n  [16764159, 10079385],\n  [16776960, 13421772],\n  [0, 13092817, 16711680],\n  [0, 5329233, 8750469],\n  [26367, 16763904, 16711680],\n  [15073299, 16694244, 16772608, 3059457, 45013, 3215303, 15466892, 0],\n];\n\nconst easing = new Easing();\n\nfunction V3D02_PaintImpl() {\n  this.penWidth = 50;\n}\n\nvar draw;\n\nV3D02_PaintImpl.prototype.init = function (canvas, width, height) {\n  this.canvas = canvas;\n  this.ctx = this.canvas.getContext('2d');\n  // this.canvas.width = 2048\n  // this.canvas.height = 2304\n  this.canvas.width = width;\n  this.canvas.height = height;\n  this.mParticles = [];\n  this.mVF = new PVVectprField();\n  // 第一种解释：把宽高分成630份\n  // 第二种解释：把宽高按630长度均分\n  // this.mVF.setupField(2048 / 75, 2304 / 75, 2048, 2304),\n  this.isEraser = false;\n  this.mVF.setupField(width / 30, height / 30, width, height);\n  this.moveFlag = !1;\n  this.isZoom = !1;\n  this._toScale = 0;\n  this._frScale = null;\n  this._ticktime = null;\n  this._zoomTryed = !1;\n  this._drawingEnabled = !0;\n  // this.mStageWidth = 800;\n  // this.mStageHeight = 800;\n  this.currentScale = 1.16;\n  // this.mResolutionScale = 398 / window.innerWidth;\n  this.mColorRandRange = 1;\n  this.mActiveColor = 13209;\n  this._eraseMode = !1;\n  this.mFudeSize = 1.2;\n  this.mUniformMatrix = new Array(4);\n  this.mUniformColor = new Array(4);\n  this.canvas.addEventListener('touchstart', this.startEvent.bind(this), !1);\n  this.canvas.addEventListener('mousedown', this.startEvent.bind(this), !1);\n  this.canvas.addEventListener('touchmove', this.moveEvent.bind(this), !1);\n  this.canvas.addEventListener('mousemove', this.moveEvent.bind(this), !1);\n  this.canvas.addEventListener('touchend', this.endEvent.bind(this), !1);\n  this.canvas.addEventListener('mouseup', this.endEvent.bind(this), !1);\n  this.textureParticle = [];\n\n  // let img1= new Image();\n  // img1.src = '../../../img/TextureParticle/01.png';\n  // this.textureParticle.push(img1);\n  // let img2 = new Image();\n  // img2.src = '../../../img/TextureParticle/02.png';\n  // this.textureParticle.push(img2)\n  // let img3 = new Image();\n  // img3.src = '../../../img/TextureParticle/03.png';\n  // this.textureParticle.push(img3)\n  // let img4 = new Image();\n  // img4.src = '../../../img/TextureParticle/04.png';\n  // this.textureParticle.push(img4)\n  // let img5 = new Image();\n  // img5.src = '../../../img/TextureParticle/05.png';\n  // this.textureParticle.push(img5)\n  // let img6 = new Image();\n  // img6.src = '../../../img/TextureParticle/06.png';\n  // this.textureParticle.push(img6)\n  // let img7 = new Image();\n  // img7.src = '../../../img/TextureParticle/07.png';\n  // this.textureParticle.push(img7)\n\n  this.animloop();\n};\n\nV3D02_PaintImpl.prototype.animloop = function () {\n  window.requestAnimFrame(this.animloop.bind(this));\n  this.onEnterFrame();\n};\n\n// t是触发的事件  该方法对应convertMousePos进行坐标转换\nV3D02_PaintImpl.prototype.getXY = function (t) {\n  const i = t.touches ? t.touches[0].clientX : t.clientX;\n\n  const e = t.touches ? t.touches[0].clientY : t.clientY;\n  return {\n    x: i - this.canvas.offsetLeft + (document.body.scrollLeft || document.documentElement.scrollLeft),\n    y: e - this.canvas.offsetTop + (document.body.scrollTop || document.documentElement.scrollTop),\n  };// 返回坐标对象\n};\n// onMousePress\nV3D02_PaintImpl.prototype.startEvent = function (t) {\n  t.preventDefault(); // 阻止默认事件\n  t.stopPropagation();// 阻止默认事件\n  let i = this.getXY(t);// i是坐标对象\n  this.mPrevMouseX = i.x;\n  this.mPrevMouseY = i.y;\n  this.mPrevDiffX = 0;\n  this.mPrevDiffY = 0;\n  this.moveFlag = true; //! 0\n};\n// x\nlet tmp = 0;\nV3D02_PaintImpl.prototype.moveEvent = function (t) {\n  if (t.preventDefault(), t.stopPropagation(), !this.moveFlag) {\n    return;\n  }\n\n  let curMousePostion = this.getXY(t);\n  // 鼠标移动到的当前点\n  let pos_x = curMousePostion.x;\n  let pos_y = curMousePostion.y;\n  if (this.isEraser) {\n    // console.log('进入橡皮分支',this.isEraser)\n    this.resetEraser(pos_x, pos_y);\n  } else {\n    // 鼠标间隔\n    let diff_x = pos_x - this.mPrevMouseX;\n    let diff_y = pos_y - this.mPrevMouseY;\n    let v = Math.max(Math.sqrt(diff_x * diff_x + diff_y * diff_y) / 30, 1.0);\n    // console.log('u',u)\n\n    // console.info(curMousePostion)\n    for (let i = 0; i < v; i++) {\n      let f = (i + 1) / v;\n      let p_x = pos_x - this.mPrevMouseX;\n      let p_y = pos_y - this.mPrevMouseY;\n      // p_x此时表示把AB的横向距离分成u份*的前i+1份*\n      p_x *= f;\n      p_y *= f;\n      // p_x此时表示第i次遍历的目标坐标\n      p_x = this.mPrevMouseX + p_x;\n      p_y = this.mPrevMouseY + p_y;\n      // d_x此时表示本次AB距离差和上次AB距离差的差，有可能是负数\n      let d_x = diff_x - this.mPrevDiffX;\n      let d_y = diff_y - this.mPrevDiffY;\n      // d_x此时表示。。。。前i+1份，有可能是负数\n      d_x *= f;\n      d_y *= f;\n      // d_x此时表示上一次偏移量加上本次偏移量\n      d_x = this.mPrevDiffX + d_x;\n      d_y = this.mPrevDiffY + d_y;\n      let strength = 0.2 + Math.min(this.mFudeSize, Math.sqrt(d_x * d_x + d_y * d_y) / 50.0);\n      // 第二个参数原来是80\n      // this.mVF.addVectorCircle(this,p_x, p_y, 0.5 * d_x, 0.5 * d_y, 20, 0.2);\n      this.mVF.addVectorCircle(this, this.mPrevMouseX, this.mPrevMouseY, this.mActiveColor, p_x, p_y);\n\n      // j的遍历越多，点越密集\n      for (let j = 0; j < 10; j++) {\n        let possibility = this._eraseMode ? 1000 : 1000 * Math.random();\n        let particle = new PVParticle();\n        particle.angle = 720 * Math.random();\n        particle.flg = false;\n        let color;\n        if (Math.random() < 0.1) {\n          let coladd = 255 * (Math.random() * this.mColorRandRange - 0.5 * this.mColorRandRange);\n          let colorR = ((this.mActiveColor >> 16) & 255) + coladd;\n          let colorG = ((this.mActiveColor >> 8) & 255) + coladd;\n          let colorB = ((this.mActiveColor >> 0) & 255) + coladd;\n\n          colorR = colorR < 0 ? 0 : (colorR > 255 ? 255 : colorR);\n          colorG = colorG < 0 ? 0 : (colorG > 255 ? 255 : colorG);\n          colorB = colorB < 0 ? 0 : (colorB > 255 ? 255 : colorB);\n\n          color = (colorR << 16) | (colorG << 8) | (colorB);\n        } else {\n          color = this.mActiveColor;\n        }\n        particle.r = color >> 16 & 255;\n        particle.g = color >> 8 & 255;\n        particle.b = color >> 0 & 255;\n        // -50~50\n        let pR_x = 100 * Math.random() - 50;\n        let pR_y = 100 * Math.random() - 50;\n        // 正方形内一点到中心的距离\n        let f = Math.sqrt(pR_x * pR_x + pR_y * pR_y);\n        // 把随机的点缩放到中心点一单位以内\n        pR_x /= f;\n        pR_y /= f;\n        // -25~25\n        // 此处需要用笔画宽度控制\n\n        let c = Math.random() * 50 - 25;\n        pR_x *= c;\n        pR_y *= c;\n        // 随机出来一个随机方向，但长度在0~25以内\n        if (possibility < 10) {\n          // 这个表示笔画两侧（-50~50）的随机点\n          if (Math.random() < 0.1) {\n            // 千分之一\n            particle.scale = Math.random() * 6.0;\n          } else {\n            // 千分之九\n            particle.scale = Math.random() * 3.0;\n          }\n          particle.setInitialCondition(p_x + Math.random() * 100 - 50, p_y + Math.random() * 100 - 50, 0, 0, 0);\n          particle.texIndex = Math.random() * 6;\n        } else if (possibility < 30) {\n          // 这个表示惯性喷溅距离\n          // 百分之二\n          if (Math.random() < 0.1) {\n            // 千分之二\n            particle.scale = Math.random() * 4.0;\n            particle.texIndex = 1;\n          } else {\n            particle.scale = Math.random() * 0.5 + 1.0;\n            particle.texIndex = Math.random() * 6;\n          }\n\n          let pw = Math.random() * 0.7 + 0.3;\n          // particle.scale*=0.5;\n          // pw*=0.5;\n          particle.setInitialCondition(p_x + d_x * pw * 15, p_y + d_y * pw * 15, 0, 0, 0);\n        } else if (possibility < 50) {\n          // 这个表示惯性喷溅距离+透明度+流动\n          /// /百分之二\n          let pw = Math.random() * 0.7 + 0.3;\n          particle.scale = Math.random() * 0.5 + 1.0;\n          // 表示在点（p_x,p_y）处附近随机一点，指定\n          // 这个表示手臂\n          // particle.scale*=0.5;\n          // pw*=0.5;\n          particle.setInitialCondition(p_x + pR_x, p_y + pR_y, d_x * pw, d_y * pw, 30 * Math.pow(strength, 0.7));\n          particle.texIndex = 0;\n          particle.flg = true;\n        } else {\n          // 百分之95\n          particle.setInitialCondition(p_x + pR_x, p_y + pR_y, d_x * 0.2, d_y * 0.2, 30);\n          // if(pR_x*pR_x+pR_y*pR_y>150){\n          // \tparticle.setInitialCondition(  p_x+pR_x , p_y+pR_y,  d_x*0.1, d_y*0.1,30);\n          // }else{\n          // \tparticle.setInitialCondition(  p_x+pR_x , p_y+pR_y,  d_x*0.1, d_y*0.1,30);\n          // }\n          particle.texIndex = Math.random() < 0.2 ? 1 : 0;\n          particle.scale = Math.random() * 0.3 + 1.2;\n        }\n        ;\n        particle.scale *= 1.2;\n        particle.scale *= strength * 50;\n        this.mParticles.push(particle);\n        // 此处表示点密度，总点数是固定的，画的长度超出一定程度，会出现类似没有墨的感觉\n        // 注释掉则表示不限制\n        if (this.mParticles.length > 500) {\n          let anyoneTop250 = 250 * Math.random();\n          this.mParticles.splice(anyoneTop250, 1);\n        }\n      }\n    }\n    this.mPrevDiffX = diff_x;\n    this.mPrevDiffY = diff_y;\n    this.mPrevMouseX = pos_x;\n    this.mPrevMouseY = pos_y;\n  }\n};\n\nV3D02_PaintImpl.prototype.endEvent = function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  this.moveFlag = false;//! 1\n};\n\nV3D02_PaintImpl.prototype.clearCanvas = function () {\n  this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nV3D02_PaintImpl.prototype.onEnterFrame = function () {\n  let t;\n  if (this._drawingEnabled) {\n    // this.ctx.fillStyle = \"rgba(0, 0, 0, 0)\";\n    // this.mUniformMatrix[0] = 0\n    // this.mUniformMatrix[1] = 0\n    // this.mUniformMatrix[2] = 0\n    // this.mUniformMatrix[3] = 1024\n    // this.mUniformColor[0] = 1\n    // this.mUniformColor[1] = 1\n    // this.mUniformColor[2] = 1\n    // this.drawTriangles(this.mUniformMatrix, this.mUniformColor)\n    this.draw();\n    // this.mUniformMatrix[0] = 0\n    // this.mUniformMatrix[1] = 0\n    // this.mUniformMatrix[2] = 0\n    // this.mUniformMatrix[3] = 1\n    // this.mUniformColor[0] = 1\n    // this.mUniformColor[1] = 1\n    // this.mUniformColor[2] = 1\n    // this.ctx.fillStyle = \"rgba(0, 0, 0, 0)\"\n    // this.mUniformMatrix[1] = 0\n    // this.mUniformMatrix[3] = 1024\n    // this.drawTriangles(this.mUniformMatrix, this.mUniformColor)\n  }\n  // this.ctx.fillStyle = \"rgba(1, 1, 1, 1)\";\n  // this.mUniformColor[0] = 1;\n  // this.mUniformColor[1] = 1;\n  // this.mUniformColor[2] = 1;\n  // this.mUniformMatrix[0] = 0;\n  // this.mUniformMatrix[2] = 0;\n  // let i = this.mStageWidth * this.currentScale;\n  // this.mUniformMatrix[1] = 0;\n  // this.mUniformMatrix[3] = 1.125 * i * 1.81;\n  // this.drawTriangles(this.mUniformMatrix, this.mUniformColor);\n  // this.mUniformMatrix[1] = 1.125 * -i * -.016 + 0;\n  // this.mUniformMatrix[3] = i;\n  // this.drawTriangles(this.mUniformMatrix, this.mUniformColor);\n  if (this.isZoom) {\n    // if(1.16 != this._toScale){\n    // \tthis._toScale = 1.16\n    // \tthis._frScale = this.currentScale\n    // \tthis._ticktime = (new Date()).getTime()\n    // }\n    if (this._toScale != 1) {\n      this._toScale = 1;\n      this._frScale = this.currentScale;\n      this._ticktime = (new Date()).getTime();\n    }\n  } else {\n    // if(.6 != this._toScale){\n    // \tthis._toScale = .6\n    // \tthis._frScale = this.currentScale\n    // \tthis._ticktime = (new Date).getTime()\n    // }\n    if (this._toScale != 0) {\n      this._toScale = 0;\n      this._frScale = this.currentScale;\n      this._ticktime = (new Date()).getTime();\n    }\n  }\n  if (this.currentScale != this._toScale && this._drawingEnabled) {\n    let v = (new Date().getTime() - this.__ticktime) / 1000 * 0.3;\n    if (v > 1.0) {\n      v = 1;\n      this.currentScale = this._toScale;\n      // _currentRect= UTItemManager.getZoomRectMotion(currentScale,_mcWidth,_mcHeight);\n    }\n    // (this._zoomTryed ? ((t = ((new Date).getTime() - this._ticktime) / 400) > 1 && (t = 1), t = easing.easeOutQuart(t, 0, 1, 1)) : ((t = ((new Date).getTime() - this._ticktime) / 1e3) > 1 && (t = 1, this._zoomTryed = !0), t = easing.easeInOutQuart(t, 0, 1, 1)), this.currentScale = this._frScale + (this._toScale - this._frScale) * t)\n  }\n};\n\nV3D02_PaintImpl.prototype.getZoomRectMotion = function () {\n  // TODO\n};\n\nV3D02_PaintImpl.prototype.draw = function () {\n  let num = this.mParticles.length;\n  if (num > 0) {\n    if (this.__eraseMode) {\n\n    } else {\n\n    }\n    // console.info(1)\n    // mCtx3D.setVertexBufferAt(0, mVerts, 0, Context3DVertexBufferFormat.FLOAT_2);\n    // mCtx3D.setProgramConstantsFromMatrix(Context3DProgramType.VERTEX, 0, mFBOMatrix, true);\n    let ac = -1;\n    for (let i = 0; i < num;) {\n      let part = this.mParticles[i];\n      if (!(part.flg && Math.random() > 0.5)) {\n        // if((part.posX-part.scale*0.55>0&&\n        // \tpart.posY-part.scale*0.55>0&&\n        // \tpart.posX+part.scale*0.55<UTItemManager.IMAGE_WIDTH&&\n        // \tpart.posY+part.scale*0.55<UTItemManager.IMAGE_HEIGHT)||_eraseMode\n        // ){\n\n        // if(ac!=part.texIndex){\n        // \tmCtx3D.setTextureAt(0, mTexParts[part.texIndex]);\n        // \tac=part.texIndex\n        // }\n        if (part.flg) {\n          this.mUniformMatrix[0] = part.posX + (Math.random() * 1 - 0.5) * part.scale * 0.06;\n          this.mUniformMatrix[1] = part.posY + (Math.random() * 1 - 0.5) * part.scale * 0.06;\n          this.mUniformMatrix[3] = part.scale * (Math.random() * 0.4 + 0.8);\n          this.mUniformColor[3] = Math.random();\n          this.mUniformColor[0] = part.r * this.mUniformColor[3];\n          this.mUniformColor[1] = part.g * this.mUniformColor[3];\n          this.mUniformColor[2] = part.b * this.mUniformColor[3];\n        } else {\n          this.mUniformMatrix[0] = part.posX;\n          this.mUniformMatrix[1] = part.posY;\n          this.mUniformMatrix[3] = part.scale;\n          this.mUniformColor[0] = part.r;\n          this.mUniformColor[1] = part.g;\n          this.mUniformColor[2] = part.b;\n          this.mUniformColor[3] = 1;\n        }\n        this.mUniformMatrix[2] = part.angle;\n        // this.mUniformMatrix[3] = part.scale;\n        // mCtx3D.setProgramConstantsFromVector(Context3DProgramType.FRAGMENT, 0, mUniformColor);\n        // mCtx3D.setProgramConstantsFromVector(Context3DProgramType.VERTEX, 4, mUniformMatrix);\n        this.drawTriangles(this.mUniformMatrix, this.mUniformColor);\n        // if(!_painted){\n        // \tif(onPainted)onPainted();\n        // \t_painted=true;\n        // }\n        // }\n      }\n      if (part.life > 0) {\n        this.mVF.getForceFromPos(part.posX, part.posY);\n        part.setVFupdate(this.mVF.outX, this.mVF.outY);\n        i++;\n      } else {\n        this.mParticles.splice(i, 1);\n        --num;\n        // 在这沸腾\n        // ++e\n      }\n    }\n    this.mUniformColor[3] = 1;\n  }\n  this.mVF.fadeField(0.96);\n};\n\nV3D02_PaintImpl.prototype.drawTriangles = function (t, i) {\n  // var pattern = this.ctx.createPattern(this.textureParticle[1], 'no-repeat');\n  this.ctx.fillStyle = `rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`;\n  // 叠加canvas\n  //  this.ctx.globalCompositeOperation=\"destination-in\"\n  // 绘制文本\n\n  // this.ctx.globalAlpha = 0.9;\n  this.ctx.beginPath();\n  this.ctx.arc(t[0], t[1], t[3] / 40, 0, 2 * Math.PI);\n  this.ctx.fill();\n\n  // this.ctx.fillStyle = pattern;\n  // this.ctx.beginPath();\n  // this.ctx.arc(t[0], t[1],t[3]/40, 0, 2*Math.PI);\n  // this.ctx.fill();\n\n  // this.ctx.fillRect(t[0],t[1],20,20);\n};\nV3D02_PaintImpl.prototype.resetEraser = function (_x, _y) {\n  // console.log('调用橡皮方法',this.isEraser)\n  // this.ctx.globalCompositeOperation = \"destination-out\";\n  this.ctx.globalCompositeOperation = 'source-over';\n  this.ctx.beginPath();\n  this.ctx.arc(_x, _y, 30, 0, 2 * Math.PI);\n  this.ctx.fillStyle = 'rgba(255,255,255,1)';\n  this.ctx.fill();\n  this.ctx.globalCompositeOperation = 'source-over';\n};\nV3D02_PaintImpl.prototype.openEraser = function () {\n  this.isEraser = true;\n  // console.log('开启橡皮',this.isEraser)\n};\n// V3D02_PaintImpl.prototype.closeEraser = function() {\n// \tthis.isEraser = false;\n// \t// console.log('关闭橡皮',this.isEraser)\n// };\nwindow.requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (t) {\n  window.setTimeout(t, 1000 / 60);\n};\n\n// export{ init };\n\nexport default V3D02_PaintImpl;\n","import React, { useContext, useEffect, useRef } from 'react';\nimport V3D02_PaintImpl from '../../v3d/V3D02_PaintImpl';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Paint() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    const paint = new V3D02_PaintImpl();\n    if (current) {\n      paint.init(current, width, height);\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { useContext, useEffect, useRef } from 'react';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Moma01() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if (current) {\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { useContext, useEffect, useRef } from 'react';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Moma02() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if (current) {\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { Component } from 'react';\nimport { Button, Form, InputNumber } from 'antd';\nimport './filter.css';\nimport TestImg from './test.png';\nimport TransparentImg from './transparent.png';\n\nconst FormItem = Form.Item;\n\nclass Filter extends Component {\n\n  constructor(args) {\n    super(args);\n    this.state = {};\n    this.width = 250;\n    this.height = 250;\n    this.intervals = [];\n  }\n\n  saveRef = (canvas) => {\n    if (canvas) {\n      this.canvas = canvas;\n      this.width = canvas.width;\n      this.height = canvas.height;\n    }\n  };\n\n  componentDidMount() {\n    this.img = new Image();\n    this.img.src = TestImg;\n    this.transparentImg = new Image();\n    this.transparentImg.src = TransparentImg;\n    this.img.onload = () => {\n      this.reset();\n    };\n  }\n\n  getRndInteger = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  };\n\n  reset = () => {\n    if (this.animateId) {\n      window.cancelAnimationFrame(this.animateId);\n      this.animateId = null;\n    }\n    if (this.concussionId) {\n      window.cancelAnimationFrame(this.concussionId);\n      this.concussionId = null;\n    }\n    if (this.animateTimeoutId) {\n      clearTimeout(this.animateTimeoutId);\n      this.animateTimeoutId = null;\n    }\n    this.pausing = false;\n    let ctx = this.canvas.getContext('2d');\n    ctx.restore();\n    ctx.clearRect(0, 0, this.width, this.height);\n    ctx.drawImage(this.img, 0, 0, this.width, this.height);\n  };\n\n  pause = () => {\n    this.pausing = !this.pausing;\n  };\n\n  random = () => {\n    this.props.form.setFieldsValue(this.getRandomObject());\n    this.start();\n  };\n\n  getRandomObject = () => {\n    let deg = this.getRndInteger(1, 179);\n    let size = this.getRndInteger(5, 20);\n    let glitch = this.getRndInteger(120, 130);\n    return { deg, size, offset: 50, glitch };\n  };\n\n  animate = (deg, size, startValue, endValue, glitch, done) => {\n    const start = Date.now();\n    const duration = 30;\n    const finish = start + duration;\n    let time;\n    let byValue = endValue - startValue;\n    const tick = (ticktime) => {\n      if (!this.pausing) {\n        time = ticktime ? Date.now() : start;\n        const currentTime = time > finish ? duration : (time - start);\n        const current = startValue + byValue * currentTime / duration;\n        this.drawGlitch(deg, size, current, glitch);\n        if (time > finish) {\n          done();\n          return;\n        }\n      }\n      this.animateId = window.requestAnimFrame(tick);\n    };\n    tick();\n  };\n\n  start = () => {\n    this.reset();\n    let values = this.props.form.getFieldsValue();\n    let { offset, deg, size, glitch } = values;\n    let startValue = offset;\n    let endValue = 0;\n    const tick = () => {\n      if (startValue > 0) {\n        endValue = 1 - startValue;\n      } else if (startValue < 0) {\n        endValue = -1 - startValue;\n      }\n      this.animate(deg, size, startValue, endValue, glitch, () => {\n        this.concussionId = window.requestAnimFrame(tick);\n      });\n      if (Number(endValue.toFixed(5)) === 0) {\n        this.reset();\n        return;\n      }\n      startValue = endValue;\n    };\n    tick();\n  };\n\n  translateImage(ctx, targetX, targetY) {\n    ctx.clearRect(0, 0, this.width, this.height);\n    ctx.drawImage(this.img, targetX, targetY, this.width, this.height);\n    ctx.restore();\n  }\n\n  drawGlitch = (deg, size, offset, glitch) => {\n    if (deg < 45) {\n      this.drawXGlitch(deg, size, offset, glitch);\n    } else if (deg < 90) {\n      this.drawYGlitch(deg, size, offset, glitch);\n    } else if (deg < 135) {\n      this.drawLargeYGlitch(deg, size, offset, glitch);\n    } else {\n      this.drawLargeXGlitch(deg, size, offset, glitch);\n    }\n  };\n\n  drawXGlitch(deg, height, offsetX, glitchY) {\n    let ctx = this.canvas.getContext('2d');\n    let tanDeg = Math.tan(Math.PI * deg / 180);\n    let offsetHeight = tanDeg * this.width;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(0, glitchY);\n    ctx.lineTo(this.width, glitchY - offsetHeight);\n    ctx.lineTo(this.width, glitchY - offsetHeight + height);\n    ctx.lineTo(0, glitchY + height);\n    ctx.closePath();\n    ctx.clip();\n    this.translateImage(ctx, offsetX, -tanDeg * offsetX);\n  }\n\n  drawYGlitch(deg, width, offsetY, glitchX) {\n    let ctx = this.canvas.getContext('2d');\n    let tanDeg = Math.tan(Math.PI * deg / 180);\n    let offsetWidth = this.height / tanDeg;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(glitchX, 0);\n    ctx.lineTo(glitchX - offsetWidth, this.height);\n    ctx.lineTo(glitchX - offsetWidth + width, this.height);\n    ctx.lineTo(glitchX + width, 0);\n    ctx.closePath();\n    ctx.clip();\n    this.translateImage(ctx, -offsetY / tanDeg, offsetY);\n  }\n\n  drawLargeYGlitch(deg, width, offsetY, glitchX) {\n    let ctx = this.canvas.getContext('2d');\n    let tanDeg = Math.tan(Math.PI * (180 - deg) / 180);\n    let offsetWidth = this.height / tanDeg;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(glitchX, 0);\n    ctx.lineTo(glitchX + offsetWidth, this.height);\n    ctx.lineTo(glitchX + offsetWidth + width, this.height);\n    ctx.lineTo(glitchX + width, 0);\n    ctx.closePath();\n    ctx.clip();\n    this.translateImage(ctx, offsetY / tanDeg, offsetY);\n  }\n\n  drawLargeXGlitch(deg, height, offsetX, glitchY) {\n    let ctx = this.canvas.getContext('2d');\n    let tanDeg = Math.tan(Math.PI * (180 - deg) / 180);\n    let offsetHeight = tanDeg * this.width;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(0, glitchY);\n    ctx.lineTo(this.width, glitchY + offsetHeight);\n    ctx.lineTo(this.width, glitchY + offsetHeight + height);\n    ctx.lineTo(0, glitchY + height);\n    ctx.closePath();\n    ctx.clip();\n    this.translateImage(ctx, offsetX, tanDeg * offsetX);\n  }\n\n  render() {\n    const {} = this.state;\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className='filter'>\n        <div className='filter-t-shirt'>\n          <canvas\n            width={this.width}\n            height={this.height}\n            className='filter-canvas'\n            ref={this.saveRef}\n          />\n        </div>\n        <div className='operation-area'>\n          <Button onClick={this.random} type='primary'>随机</Button>\n          &nbsp;&nbsp;\n          <Button onClick={this.start} type='primary'>割裂</Button>\n          &nbsp;&nbsp;\n          <Button onClick={this.pause} type='primary'>暂停</Button>\n          &nbsp;&nbsp;\n          <Button onClick={this.reset}>重置</Button>\n          <Form>\n            <FormItem label='割裂角度'>\n              {getFieldDecorator('deg', {\n                initialValue: 30,\n              })(\n                <InputNumber />,\n              )}\n            </FormItem>\n            <FormItem label='割裂大小'>\n              {getFieldDecorator('size', {\n                initialValue: 10,\n              })(\n                <InputNumber />,\n              )}\n            </FormItem>\n            <FormItem label='割裂偏移量'>\n              {getFieldDecorator('offset', {\n                initialValue: 100,\n              })(\n                <InputNumber />,\n              )}\n            </FormItem>\n            <FormItem label='割裂位置'>\n              {getFieldDecorator('glitch', {\n                initialValue: 200,\n              })(\n                <InputNumber />,\n              )}\n            </FormItem>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst WrappedFilter = Form.create()(Filter);\n\nexport default WrappedFilter;\n","function Matrix(a, b, c, d, tx, ty) {\n  this.a = a;\n  this.b = b;\n  this.c = c;\n\tthis.d = d;\n\tthis.tx = tx;\n\tthis.ty = ty;\n}\n\nMatrix.prototype.translate = function(dx, dy) {\n  this.tx = dx;\n\tthis.ty = dy;\n}\n\nMatrix.prototype.concat = function(m) {\n  var aT = this.a;\n\tvar cT = this.c;\n\tvar txT = this.tx;\n\tthis.a = aT * m.a + this.b * m.c;\n\tthis.b = aT * m.b + this.b * m.d;\n\tthis.c = cT * m.a + this.d * m.c;\n\tthis.d = cT * m.b + this.d * m.d;\n\tthis.tx = txT * m.a + this.ty * m.c + m.tx;\n\tthis.ty = txT * m.b + this.ty * m.d + m.ty;\n}\n\nMatrix.prototype.scale = function(sx, sy) {\n  var m = new Matrix(sx, 0, 0, sy, 0, 0);\n\tthis.concat(m);\n}\n\nMatrix.prototype.identity = function() {\n  this.a = 1;\n\tthis.b = 0;\n\tthis.c = 0;\n\tthis.d = 1;\n\tthis.tx = 0;\n\tthis.ty = 0;\n}\n\nexport default Matrix;\n","function BitmapData(width, height, transparent, fillColor) {\n\tthis._rect = null;\n\tthis.imageData = null;\n\tthis.image = null;\n\tthis.bitmapBytes = null;\n\tthis.checkTable = null;\n\tthis.isLoaded = false;\n\tthis.width = width;\n\tthis.height = height;\n\tthis.transparent = transparent;\n\tthis.fillColor = fillColor;\n\tvar len = width * height;\n\tif (len > 0) {\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tthis.imageData = ctx.createImageData(width, height);\n\t\tif (transparent && fillColor == 0)\n\t\t\tlen = 0;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar index = i * 4;\n\t\t\tthis.imageData.data[index + 0] = fillColor >> 16 & 0xFF;\n\t\t\tthis.imageData.data[index + 1] = fillColor >> 8 & 0xFF;\n\t\t\tthis.imageData.data[index + 2] = fillColor >> 0 & 0xFF;\n\t\t\tthis.imageData.data[index + 3] = transparent ? (fillColor >> 24 & 0xFF) : 0xFF;\n\t\t}\n\t\tctx.putImageData(this.imageData, 0, 0);\n\t\tthis.image = canvas;\n\t}\n\t// this._rect = new flash.geom.Rectangle(0, 0, width, height);\n};\n\nBitmapData.prototype.draw = function(source, matrix, colorTransform, blendMode, clipRect, smoothing) {\n\tvar sourceBitmapData = source;\n\tif (!sourceBitmapData || !this.image)\n\t\treturn;\n\tif (!sourceBitmapData.image)\n\t\treturn;\n\tvar ctx = this.image.getContext(\"2d\");\n\tctx.drawImage(sourceBitmapData.image, 0, 0, sourceBitmapData.image.width * matrix.a, sourceBitmapData.image.height * matrix.d);\n};\n\nBitmapData.prototype.lock = function() {\n};\n\nBitmapData.prototype.unlock = function() {\n};\n\nBitmapData.prototype.getPixel32 = function(x, y) {\n\tthis.bitmapBytes.position = (x + (y * this.width)) * 4;\n\treturn this.bitmapBytes.readUnsignedInt();\n};\n\nexport default BitmapData;","import Matrix from './Matrix';\nimport BitmapData from './BitmapData';\n/*\n未解决的问题\ngoto 语句的处理\n导入外部源码，已用注释标注\n矩阵和bitmap类的实现\n*/\nvar UTItemManager = {\n  IMAGE_WIDTH: 2048,\n  IMAGE_HEIGHT: 2048,\n}\n\nfunction goto(func, self) {\n  func(self);\n}\n\nfunction V3D13_MosaicImpl(_weakMode) {\n  //     this._texture= null;//Texture;\n  this.scale = 1;\n  this.position = 0;\n  this._mipmaps= [];//Vector.<BitmapData>;\n  this._LODLevel= [];//ByteArray;\n  this._martigX= null;//Number;f\n  // this._martigY= null;//Number;\n  this.mUniformColor=[];//原来代码没定义直接使用了，这里定义了一下\n  //     this.mUniformMatrix=[];//原来代码没定义直接使用了，这里定义了一下\n\n  this.margin= 7;//Number=7;\n  this.InMargin= 256/252;//Number=256/252;\n\n      this._lodSum=0; //private var _lodSum:uint=0; \n  //     this._lod1Count=0//private var _lod1Count:int=0;\n      this.maxCellLod=null;//public var maxCellLod:uint;\n  // this.maxCellNum=null;//public var maxCellNum:uint;\n  this._bUpdated= null;//Boolean;\n  this._lod1Count = 0;\n  // this._bClear= null;//Boolean;\t\t\n  this.updatePointsX= [];//Vector.<uint>=new Vector.<uint>;\n  this.updatePointsY= [];//Vector.<uint>=new Vector.<uint>;\n  this.updatePointsLod= [];//Vector.<uint>=new Vector.<uint>;\n\n  // this.srcViewId= null;//int;\n\n  //     this._enableTransparentWhite= null;//Boolean;\n  //     //super(_weakMode);\n\n  //     this.textureIndex= 2;//int;\t\n\n  // this._mozWidth= 16*5/2;//int;\n  //     this._mozHeight= 16*6/2;//int;\n      this._mosicRemderSize= 23.9*2;//Number;\n\n  //     if(_weakMode){\n  //         this._mozWidth*=3/2.0;\n  //         this._mozHeight*=3/2.0;\n  //         this._mosicRemderSize*=2/3.0;\n  //     }\n\n  //     //是两边空白的大小吗？\n  this._martigX = 0;\n  this._martigY = 0;\n      // this._martigX=(UTItemManager.IMAGE_WIDTH-this._mosicRemderSize*this._mozWidth)*.5;//-_mosicRemderSize*.5;;\n  //     this._martigY=(UTItemManager.IMAGE_HEIGHT-this._mosicRemderSize*this._mozHeight)*.5;//-_mosicRemderSize*.5;;\n\n  //     //trace(_mozWidth,_mozHeight,_martigX,_martigY);  //？？？？bug\n\n\n  //     this._LODLevel=[];\n  //     //_LODLevel.position=0;\n  //     while(this._LODLevel.length<this._mozWidth*this._mozHeight){\n  //         this._LODLevel.push(1);\n  //     }\n\n  //     this._enableTransparentWhite=false;//AppVals.HISTORY==0;\n  //srcViewId=UTCreateMain.getActiveSrcType();\n}\n\n// V3D13_MosaicImpl.prototype.generateMipmapWithBitmap = function(_org,width,height){\n//           var mipWidth = width;  //纹理贴图的宽度\n//     var mipHeight = height;  //纹理贴图的高度\n//     var mipLevel = 0;    //纹理贴图的层\n\n//     var scaleTransform = new Matrix();//不会实现矩阵\n//     var s=mipWidth/_org.width;\n\n//     scaleTransform.translate(-_org.width*.5,-_org.height*.5);//矩阵变换\n//     if(mipWidth/_org.width<mipHeight/Number(_org.height)){   //以前的逗号改成了小于号，也可能是大于\n//       scaleTransform.scale(mipHeight/Number(_org.height),mipHeight/Number(_org.height));\n//     }else{\n//       scaleTransform.scale(mipWidth/Number(_org.width),mipWidth/Number(_org.width));\n//     }\n//     scaleTransform.translate(mipWidth*.5,mipHeight*.5);//矩阵变换\n\n//     var bmd=_org;\n//     var mipImage;\n//     while ( mipWidth > 0 && mipHeight > 0 ){  //产生图像不同级别的纹理贴图，每次规模缩小一半\n//       mipImage = new BitmapData( mipWidth, mipHeight,true,0 );//BitmapData 构造函数来着flash.display.BitmapData;\n//       mipImage.draw( bmd, scaleTransform, null, null, null,false);//将原始图像处理成第一次马赛克纹理图像\n//       scaleTransform.identity();\n//       scaleTransform.scale( 0.5, 0.5 );\n//       mipLevel++;  //纹理层数加1\n//       mipWidth >>= 1;  //宽度减少一半\n//       mipHeight >>= 1;  //高度减少一般\n//       bmd=mipImage;  //将纹理贴图付给bmd进行再处理\n//               this._mipmaps.push(mipImage);\t//将纹理贴图压栈\t\n//           }\n\n//           if(srcViewId!=AppStoryDefs.VIEW_SRC_PHOTO){  //如果是图片\n//       bmd=this._mipmaps[0];  //取0层纹理贴图\n//       bmd.lock();\n//       var x,y,i;\n//       var c;\n//       var r,g ,b,a;\n//       for(i=0; i<2;i++){   //图像上下两条线，透明度乘0.65\n//         y=i==0?0:bmd.height-1;\n//         for(x=0; x<bmd.width;x++){\n//           c=bmd.getPixel32(x,y);//获得颜色\n//           a=((c >> 24) & 0xFF)\n//           r=((c >> 16) & 0xFF)\n//           g=((c >> 8) & 0xFF)\n//           b=((c >> 0) & 0xFF)\n//           a*=0.65;\n//           c=(a << 24) | (r << 16) | (g << 8) | (b<<0);\n//           bmd.setPixel32(x,y,c);\n//         }\n//       }\n//       for(i=0; i<2;i++){   //图像左右两条线，透明度乘0.65\n//         x=i==0?0:bmd.width-1;\n//         for(y=0; y<bmd.height;y++){\n//           c=bmd.getPixel32(x,y);//获得颜色\n//           a=((c >> 24) & 0xFF)\n//           r=((c >> 16) & 0xFF)\n//           g=((c >> 8) & 0xFF)\n//           b=((c >> 0) & 0xFF)\n//           a*=0.65;\n//           c=(a << 24) | (r << 16) | (g << 8) | (b<<0);\n//           bmd.setPixel32(x,y,c);\n//         }\n//       }\n//       bmd.unlock();\n//       bmd=null;\n//     }\n// }\n\nV3D13_MosaicImpl.prototype.init = function (canvas, width, height) {\n  this.canvas = canvas;\n  this.ctx = this.canvas.getContext('2d');\n  this.canvas.width = width;\n  this.canvas.height = height;\n  var self = this;\n  var img = new Image();\n  img.src = 'pic1.png';\n  img.onload = function () {\n    self.ctx.drawImage(img, 10, 10, 380, 390);\n    var srcBmd = self.ctx.getImageData(0, 0, 400, 400);\n    self.generateMipmapWithBitmap(srcBmd, 400, 400);\n  }\n\n  this._LODLevel = new Array(400 * 400).fill(1);\n  this.maxCellLod=400*400*(this._mipmaps.length-1-2);\n\n  this.canvas.addEventListener('mousedown', this.startEvent.bind(this), !1);\n}\n\nV3D13_MosaicImpl.prototype.generateMipmapWithBitmap = function (_org, width, height) {\n  var imageData = this.ctx.getImageData(0, 0, width, height);\n  var pixelData = imageData.data;\n\n\n  //创建作为参考的像素\n  var tmpImageData = this.ctx.getImageData(0, 0, width, height);\n  var tmpPixelData = tmpImageData.data;\n  console.log(tmpImageData);\n\n  var size = 4//马赛克方块的边长\n  var totalnum = size * size\n  //此处循环需从1开始，..-1结束，否则在里面的二层循环（dx=-1,dy=-1）就会越界\n  for (var i = 0; i < height; i += size) {\n    for (var j = 0; j < width; j += size) {\n      var totalr = 0, totalg = 0, totalb = 0;\n      //一个像素点周围的加上自身\n      for (var dx = 0; dx < size; dx++) {\n        for (var dy = 0; dy < size; dy++) {\n          var x = i + dx;\n          var y = j + dy;\n          var p = x * width + y\n          totalr += tmpPixelData[p * 4 + 0]\n          totalg += tmpPixelData[p * 4 + 1]\n          totalb += tmpPixelData[p * 4 + 2]\n        }\n      }\n      var p = i * width + j//每个像素点\n      var resr = totalr / totalnum\n      var resg = totalg / totalnum\n      var resb = totalb / totalnum\n      for (var dx = 0; dx < size; dx++) {\n        for (var dy = 0; dy < size; dy++) {\n          var x = i + dx;\n          var y = j + dy;\n          var p = x * width + y\n          pixelData[p * 4 + 0] = resr\n          pixelData[p * 4 + 1] = resg\n          pixelData[p * 4 + 2] = resb\n        }\n      }\n    }\n  }\n  this.ctx.putImageData(imageData, 0, 0, 0, 0, width, height)\n}\n\nV3D13_MosaicImpl.prototype.getXY = function (t) {\n  const i = t.touches ? t.touches[0].clientX : t.clientX;\n\n  const e = t.touches ? t.touches[0].clientY : t.clientY;\n  return {\n    x: i - this.canvas.offsetLeft + (document.body.scrollLeft || document.documentElement.scrollLeft),\n    y: e - this.canvas.offsetTop + (document.body.scrollTop || document.documentElement.scrollTop),\n  };// 返回坐标对象\n};\n\nV3D13_MosaicImpl.prototype.startEvent = function (t) {\n  // alert('下面我要开始晃动了');\n  t.preventDefault(); // 阻止默认事件\n  t.stopPropagation();// 阻止默认事件\n  let i = this.getXY(t);// i是坐标对象\n  this.addedForce(i.x, i.y);\n  this.draw();\n}\n\n//没被调用\n// V3D13_MosaicImpl.prototype.initWithData = function(backBmd,srcBmd){\n//   this._mipmaps=[];//new Vector.<BitmapData>;\n//   this.generateMipmapWithBitmap(srcBmd,this._mozWidth,this._mozHeight);\n\n//   this.maxCellNum=this._mozHeight*this._mozWidth;  //初始化时产生的马赛克数量\n//   this.maxCellLod=this._mozHeight*this._mozWidth*(this._mipmaps.length-1-2);  //最大最终剩余马赛克数量，对最后的马赛克数量产生影响，最多7*7\n\n\n//   super.init3D(backBmd,null);\n// }\n\n// V3D13_MosaicImpl.prototype.dispose = function (){\n\n//   for(let i=0;i<this._mipmaps.length;i++){\n//       this._mipmaps[i].dispose();\n//       this._mipmaps[i]=null;\n//   }\n//   this._mipmaps.length=0;\n\n//   this._texture.dispose();\n//   this._texture=null;\n//   super.dispose();//继承类还没有实现\n// }\n\n// V3D13_MosaicImpl.prototype.setup = function (){\n// this._bUpdated=true;\n//   this._bClear=true;\n//   this.setTexture(this.textureIndex);\n// }\n\n// V3D13_MosaicImpl.prototype.setTexture = function (tindex){\n// this.textureIndex=tindex;\n//   if(!mCtx3D)return;\n//   var tex=new textureMosic;//:textureMosic\n//   var m=new Matrix();//Matrix\n//   m.scale(4,4);   \n//   var _bmd=new BitmapData(1024,1024,true,0)//:BitmapData\n//   switch(this.textureIndex){\n//       case 2:\n//           tex.gotoAndStop(2);\n//           this.margin=7;\n//           this.InMargin=256/252;\n//           break;\n//       case 3:\n//           tex.gotoAndStop(3);\n//           this.margin=7;\n//           this.InMargin=256/252;\n//           break;\n//       default:\n//           tex.gotoAndStop(1);\n//           this.margin=0;\n//           this.InMargin=1;\n//   }\n\n//   if(_bmd.hasOwnProperty(\"drawWithQuality\")){\n//       _bmd.drawWithQuality(tex,m,null,null,null,true,StageQuality.HIGH);\n//   }else{\n//       _bmd.draw(tex,m,null,null,null,true);\n//   }\n\n//   if(this._texture){\n//       this._texture.dispose();\n//   }\n//   this._texture = Stage3DHelper.uploadTexture(mCtx3D,_bmd,Context3DTextureFormat.BGRA,true,true);\n//   this._bUpdated=true;\n//   this.this_bClear=true;\n// }\n\n\nV3D13_MosaicImpl.prototype.draw = function(){\n  var width = 400;\n  var height = 400;\n  var imageData = this.ctx.getImageData(0, 0, width, height);\n  var pixelData = imageData.data;\n\n\n  //创建作为参考的像素\n  var tmpImageData = this.ctx.getImageData(0, 0, width, height);\n  var tmpPixelData = tmpImageData.data;\n  console.log(tmpImageData);\n\n  // var lod=this._LODLevel[this.position];\n  var lod = this.scale;\n  var size = 4*lod//马赛克方块的边长\n  var totalnum = size * size\n  //此处循环需从1开始，..-1结束，否则在里面的二层循环（dx=-1,dy=-1）就会越界\n  this.updatePointsX.forEach((v, i) => {\n    var x = this.updatePointsX[i];\n    var y = this.updatePointsY[i];\n    \n    for (var i = 0; i < height; i += 1) {\n      for (var j = 0; j < width; j += 1) {\n        if (i === x && j === y) {\n          var totalr = 0, totalg = 0, totalb = 0;\n          //一个像素点周围的加上自身\n          for (var dx = 0; dx < size; dx++) {\n            for (var dy = 0; dy < size; dy++) {\n              var x = i + dx;\n              var y = j + dy;\n              var p = x * width + y\n              totalr += tmpPixelData[p * 4 + 0]\n              totalg += tmpPixelData[p * 4 + 1]\n              totalb += tmpPixelData[p * 4 + 2]\n            }\n          }\n          var p = i * width + j//每个像素点\n          var resr = totalr / totalnum\n          var resg = totalg / totalnum\n          var resb = totalb / totalnum\n          for (var dx = 0; dx < size; dx++) {\n            for (var dy = 0; dy < size; dy++) {\n              var x = i + dx;\n              var y = j + dy;\n              var p = x * width + y\n              pixelData[p * 4 + 0] = resr\n              pixelData[p * 4 + 1] = resg\n              pixelData[p * 4 + 2] = resb\n            }\n          }\n        }\n      }\n    }\n  });\n  this.ctx.putImageData(imageData, 0, 0, 0, 0, width, height)\n}\n\nV3D13_MosaicImpl.prototype.addedForce=function(_x,_y){//传的两个参数没用到\n  this.scale = this.scale+1;\n  this._bUpdated=true;\n  var va=this._lodSum/this.maxCellLod;  //保证在最后四个层停止，，可能的尺寸小于等于7*7\n  var bUpdated=false;\n  var cnv=(1-va)*8;  //小于等于8的数\n  //cnv=Math.pow(cnv,2);\n  var i;//:int;\n  var x;//:uint;\n  var y;//:uint;\n\n  var _miR;//:int;\n  var _miG;//:int;\n  var _miB;//:int;\n  var _maR;//:int;\n  var _maG;//:int;\n  var _maB;//:int;\n  var _r;//:int;\n  var _g;//:int;\n  var _b;//:int;\n  var c;//:uint;\n  var self = this;\n\n  //if(Math.floor(cnv)==0&&Math.random()<0.9)return;\n\n  var AppVals_REMIX_PERTICLE_SPEED = 1.0;\n\n  if(cnv<5){    //static public var REMIX_PERTICLE_SPEED:Number=1.0;\n      if(Math.random()> (cnv/5.0 *.5 + 0.05)*AppVals_REMIX_PERTICLE_SPEED){\n          //import utme.app.consts.AppVals;\n          return ;\n      }\n  }\n   //import utme.app.consts.AppVals;\n  for(let i=0;i<cnv*AppVals_REMIX_PERTICLE_SPEED;i++){//每次摇动手机，处理马赛克的数量，最多8个\n      if(va==1)return; //达到小于7*7以下马赛克，停止\n\n      LABEL_RESTART_RANDOM(self);\n  }\n\n  function LABEL_RESTART_RANDOM(self) {\n    //随机取（x，y）\n    x=Math.floor(400*Math.random());\n    y=Math.floor(400*Math.random());\n  \n    LABEL_RESTART(self);\n  }\n  \n  function LABEL_RESTART(self) {\n    self.position=x+400*y;\n    //var lod:uint=this._LODLevel.readUnsignedByte();  //第一次读出来的是1，以后可能是该点买塞克的尺寸大小\n    if(self.position<self._LODLevel.length){\n        var lod=self._LODLevel[self.position];\n        self.position++;\n    }\n  \n    var writeLod;//:uint;\n    writeLod=lod+1;   //==2 每次摇动，遂渐将原有的马赛克增大一倍\n  \n    var lp=Math.pow(2,writeLod-1); //初始lp==2  马赛克尺寸增加一倍，比lod大一个尺寸//:uint\n    x=Math.floor(x/lp)*lp;  //把x，y变为lp的倍数，定位到（x，y）要换到大一倍的马赛克粒的初始点\n    y=Math.floor(y/lp)*lp;\n  \n    //check\n    var ly;//:uint;\n    var lx;//:uint;\n    //检查，是否存在x，y点，从这个点起始，找到lp范围内，都是lod尺寸的马赛克块\n    var chk=true;//:Boolean\n    for (let ly=y;ly<y+lp;ly++){//检查马赛克，(x,y)是否是该马赛克起始点，并且在（x，y）到（lx，y+lp)都是同样规模的块\n        if(ly<400){\n            self.position=x+400*ly;\n            for (let lx=x;lx<x+lp&&lx<400;lx++){\t//好像有bug\n                if(self._LODLevel[self.position]!=lod){//该列（x，y）到（lx，y+lp)中存在不同大小的马赛克，\n                    x=lx;\n                    y=ly;\n                    // goto LABEL_RESTART;\n                    goto(LABEL_RESTART, self);\n                    return;\n                    chk=false;\n                    break;\n                }\n            }\n        }else{\n            chk=false;\n        }\t\n        if(!chk)break;\n    }\n    if(!chk) {\n      goto(LABEL_RESTART_RANDOM, self);\n      return;\n    }\n    //如果监测成果\n  \n    if(lod==self._mipmaps.length-3){\n        if(cnv<5){\n            if(Math.random()< Math.pow(1-cnv/5.0,2)){\n                if(self._lod1Count<self.maxCellNum){\n                    if(Math.random()<0.6)\n                    goto(LABEL_RESTART_RANDOM, self);\n                    return;\n                }\n            }else{\n                goto(LABEL_RESTART_RANDOM, self);\n                return;\n            }\n        }\n    }\n  \n    if(lod==self._mipmaps.length-2){\n        goto(LABEL_RESTART_RANDOM, self);\n        return;\n    }\n  \n  \n    if(true){\n        if(lod==2){\n            goto(LABEL_RESTART_RANDOM, self);\n            return;\n        }\n    }\n  \n  \n    //如果监测成果，将里面的四个大小一样的马赛克块处理成一个，色块内的颜色值不能差别太大\n    chk=false;\n    lp=Math.pow(2,writeLod-1);\n    var lpc=Math.pow(2,lod-1);//:uint\n    for (let ly=y;ly<y+lp&&ly<400;ly++){//对(x,y,x+lp,y+lp)区域进行马赛克处理\n        for (let lx=x;lx<x+lp&&lx<400;lx++){//找到最大的颜色值ma，和最小的颜色值mi\n            if(lx % lpc!=0||ly%lpc!=0)continue;\n            // c=self._mipmaps[lod-1].getPixel(lx/lpc,ly/lpc);//取下一纹理图层对应的像素颜色\n            // _r= (( c >> 16)& 0xFF);\n            // _g= (( c >> 8)& 0xFF);\n            // _b= (( c >> 0)& 0xFF);\n            c = self.ctx.getImageData(lx/lpc,ly/lpc, 1, 1).data;\n            _r = c[0];\n            _g = c[1];\n            _b = c[2];\n            // console.log(_r);\n            //trace(_r,_g,_b);\n            if(chk){\n                if(_miR>_r)_miR=_r;\n                if(_maR<_r)_maR=_r;\n                if(_miG>_g)_miG=_g;\n                if(_maG<_g)_maG=_g;\n                if(_miB>_b)_miB=_b;\n                if(_maB<_b)_maB=_b;\n            }else{\n                chk=true;\n                _miR=_maR=_r;\n                _miG=_maG=_g;\n                _miB=_maB=_b;\n            }\n        }\n    }\n    //计算颜色距离\n    _r=_maR-_miR;\n    _g=_maG-_miG;\n    _b=_maB-_miB;\n  \n    var r=Math.sqrt(_r*_r+_g*_g+_b*_b) / ((va)*500);  //颜色距离，这里是不是有bug？第一次调用addforce，va=0；//:Number\n    if(true){\n        if(r>0.6) {}\n            // continue;\n    }\n    if(r>0.92){\n        r=0.92;\n    }\n    r=Math.pow(r,2);\n    //trace(\"-----------\",r,Math.sqrt(_r*_r+_g*_g+_b*_b),lp,lod);\n    if(Math.random()<r){\n        goto(LABEL_RESTART_RANDOM, self);\n        return;\n    }\n  \n    for (let ly=y;ly<y+lp&&ly<400;ly++){//将这个区域马赛克level标记为writelod\n        //_LODLevel.position=x+_mozWidth*ly;\n        self.position = x+400*ly;\n        for (let lx=x;lx<x+lp&&lx<400;lx++){\n            self._LODLevel[self.position]=writeLod;////_LODLevel.writeByte(writeLod); 把position位置的原来元素换成 writeLod 不知道理解的对不对\n            self._lodSum++;  //总处理的点数\n            if(writeLod==2)self._lod1Count++; \n        }\n    }\n    //trace(_lod1Count,maxCellNum);\n    //标记马赛克起始点x，y，和马赛克大小writelod\n    self.updatePointsX.push(x);\n    self.updatePointsY.push(y);\n    self.updatePointsLod.push(writeLod);\n    // console.log(self.updatePointsX);\n    // console.log(self.updatePointsY);\n    // console.log(self.updatePointsLod);\n  }\n}\n\n// V3D13_MosaicImpl.prototype.clear=function(){\n//   let position=0;\n//   while(position<this._LODLevel.length){\n//       this._LODLevel[position]=1;\n//   }\n//   super.clear();//父类\n//   this._bClear=true;\n//   this._bUpdated=true;\n//   this._lodSum=0;\n//   this._lod1Count=0;\n// }\n\nexport default V3D13_MosaicImpl;","import React, { useContext, useEffect, useRef } from 'react';\nimport V3D13_MosaicImpl from '../../v3d/V3D13_MosaicImpl';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Mosaic() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    const paint = new V3D13_MosaicImpl();\n    if (current) {\n      paint.init(current, width, height);\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { useContext, useEffect, useRef } from 'react';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Splash() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if (current) {\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { useContext, useEffect, useRef } from 'react';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Layout() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if (current) {\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} />\n  );\n}\n","import React, { useContext, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport CanvasContext from '../../context/CanvasContext';\n\nexport default function Glich() {\n  const canvasRef = useRef();\n  const { width, height } = useContext(CanvasContext);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if (current) {\n      const camera = new THREE.PerspectiveCamera(70, width / height, 0.01, 10);\n      camera.position.z = 1;\n\n      const scene = new THREE.Scene();\n\n      const geometry = new THREE.BoxGeometry(0.2, 0.2, 0.2);\n      const material = new THREE.MeshNormalMaterial();\n\n      const mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n\n      const renderer = new THREE.WebGLRenderer({ antialias: true });\n      renderer.setSize(width, height);\n      current.appendChild(renderer.domElement);\n\n      function animate() {\n        requestAnimationFrame(animate);\n\n        mesh.rotation.x += 0.01;\n        mesh.rotation.y += 0.02;\n\n        renderer.render(scene, camera);\n\n      }\n\n      animate();\n    }\n  }, [canvasRef, width, height]);\n\n  return (\n    <div ref={canvasRef} style={{ width, height }} />\n  );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { CanvasProvider } from '../context/CanvasContext';\nimport Paint from './paint';\nimport Moma01 from './moma01';\nimport Moma02 from './moma02';\nimport Glich from './glich';\nimport Mosaic from './mosaic';\nimport Splash from './splash';\nimport Layout from './layout';\nimport Three from './three';\n\nexport default function Routes() {\n  return (\n    <CanvasProvider>\n      <Switch>\n        <Route exact path=\"/\">\n          <h1>WebGL Demo</h1>\n        </Route>\n        <Route exact path='/paint' component={Paint} />\n        <Route exact path='/moma01' component={Moma01} />\n        <Route exact path='/moma02' component={Moma02} />\n        <Route exact path='/mosaic' component={Mosaic} />\n        <Route exact path='/glich' component={Glich} />\n        <Route exact path='/splash' component={Splash} />\n        <Route exact path='/layout' component={Layout} />\n        <Route exact path='/three' component={Three} />\n      </Switch>\n    </CanvasProvider>\n  );\n}\n","import React from 'react';\nimport { HashRouter as Router, NavLink } from 'react-router-dom';\nimport Routes from './routes';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <Router>\n        <ul className=\"navbar\">\n          <li>\n            <NavLink exact activeClassName=\"active\" to=\"/\">\n              Home\n            </NavLink>\n          </li>\n          <li>\n          <NavLink  activeClassName=\"active\"to=\"/paint\">\n          Paint Demo\n          </NavLink>\n          </li>\n          <li>\n          <NavLink activeClassName=\"active\" to=\"/moma01\">\n          Moma01 Demo\n          </NavLink>\n          </li>\n          <li>\n          <NavLink activeClassName=\"active\" to=\"/moma02\">\n          Moma02 Demo\n          </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName=\"active\" to=\"/glich\">\n              Glich Demo\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName=\"active\" to=\"/mosaic\">\n              Mosaic Demo\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName=\"active\" to=\"/splash\">\n              Splash Demo\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName=\"active\" to=\"/layout\">\n              Layout Demo\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName=\"active\" to=\"/three\">\n              Three-js Demo\n            </NavLink>\n          </li>\n        </ul>\n        <div className=\"content\">\n          <div className=\"demo\">\n            <Routes />\n          </div>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}